<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Peer JS tutorial</title>
	<script src="https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js"></script>
	<script>
		let peer = null;
		const socket = new WebSocket("ws://localhost:8080/ws")
		socket.onopen = (e) => {
			console.log("LOGOS, made a websocket connection to server");
			console.log(`Object e is: ${JSON.stringify(e)}`)

			peer = new Peer(); // todo: use both Google STUN and TURN server
			peer.on('open', function (id) {
				console.log('My peer ID is: ' + id);
				socket.send(new Blob("LOGOS, i AGAPE YOU!!! (from websocket)"))
			});
		}
	</script>
	<style>
		body {
			background-color: #333333;
			color: white;
		}
	</style>
</head>

<body>
	<h4>Peer js tutorial</h4>

</body>

</html>
